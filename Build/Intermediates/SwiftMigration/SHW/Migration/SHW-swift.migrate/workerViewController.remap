[
 {
  "file": "/Users/zhang/Desktop/HouseKeeping 2/SHW/workerViewController.swift",
  "offset": 1037,
  "remove": 24181,
  "text": "(\"初始化是否被收藏\")\n        \n        if customerid != \"\" && loginPassword != \"\" {\n            isCollect = GetServantCollect(workerdetail.servantID, customerID: customerid) as String\n           \n            print(\"isCollect:\\(isCollect)\")\n        }\n        \n       \n        \n        let width = self.view.frame.width\n        let height = self.view.frame.height\n        let labelW = self.view.frame.width - 20\n        //添加scrollview\n        let scrollView = UIScrollView()\n        //scrollView.bounds = self.view.bounds\n        scrollView.frame = CGRectMake(0, 64,width,height)\n        scrollView.contentSize=CGSizeMake(width,height*5)\n        //scrollView.contentInset = UIEdgeInsetsMake(-64,0,0, 0)\n        //不可翻页\n        scrollView.pagingEnabled = false\n        //不显示横向滑竿\n        scrollView.showsHorizontalScrollIndicator = false\n        //不显示纵向滑竿\n        scrollView.showsVerticalScrollIndicator = false\n        //设置不可下拉\n        scrollView.bounces = false\n        scrollView.scrollsToTop = false\n        self.view.addSubview(scrollView)\n        \n        //实例化导航条\n        navigationBar = UINavigationBar(frame: CGRectMake(0, 0, width, 64))\n        self.view.addSubview(navigationBar!)\n        print(\"创建导航条详情servant\")\n        onMakeNavitem()\n        //人员头像\n        let introimgY = CGFloat(20)\n        let introImg = UIImageView(frame: CGRectMake((width-180)/2, introimgY,180, 180))\n        print(\"宽度\\(self.view.frame.width)\")\n        //网络地址获取图片\n        //1.定义一个地址字符串常量\n        print(\"服务员图片\")\n        let picturename = workerdetail.headPicture\n        //1.隐式定义字符串数组\n        var myArray = picturename.componentsSeparatedByString(\".\")\n        let  pictureName = \"\\(myArray[0])f.\\(myArray[1])\"\n        print(\"pictureName\\(pictureName)\")\n        // let imageUrlString:String = HttpData.http+\"/NationalService/\\(workerdetail.headPicture)\"\n         let imageUrlString:String = HttpData.http+\"/NationalService/\\(pictureName)\"\n        \n        //2.通过String类型，转换NSUrl对象\n         let url:NSString = imageUrlString.URLEncodedString()\n\n \n        introImg.setZYHWebImage(url as String, defaultImage: \"reserve2.jpg\")\n        scrollView.addSubview(introImg)\n        \n        //人员名称\n        let NameY = introimgY + 187\n        let ServantName = UILabel(frame: CGRectMake(8, NameY,200, 20))\n        ServantName.text = \"人员名称:\\(workerdetail.servantName)\"\n        ServantName.textColor = UIColor.orangeColor()\n        ServantName.font = UIFont.systemFontOfSize(15)\n        scrollView.addSubview(ServantName)\n//        //人员状态\n//        var servantStatus = UILabel(frame: CGRectMake(8, 100, 172, 20))\n//        servantStatus.text = \"状态:\"\n//      \n//        servantStatus.font = UIFont.systemFontOfSize(14)\n//        scrollView.addSubview(servantStatus)\n         //收藏按钮\n         collect = UIButton(frame:CGRectMake(width-70,NameY+10, 50,25))\n        \n        if isCollect == \"yes\" {\n            collect.setTitle(\"取消收藏\", forState: UIControlState.Normal)\n        }else {\n            collect.setTitle(\"收藏\", forState: UIControlState.Normal)\n        }\n        collect.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n        collect.backgroundColor = UIColor.orangeColor()\n        collect.titleLabel!.font = UIFont.systemFontOfSize(12)\n        collect.layer.cornerRadius = 5\n        collect.showsTouchWhenHighlighted = true\n        collect.addTarget(self , action: Selector(\"collect:\"), forControlEvents: UIControlEvents.TouchUpInside)\n        scrollView.addSubview(collect)\n\n\n        //性别\n        let servantGender = UILabel(frame: CGRectMake(8, NameY+20, 200, 20))\n        servantGender.text = \"性别:\\(workerdetail.servantGender)\"\n        servantGender.textColor = UIColor.blackColor()\n        servantGender.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(servantGender)\n        //是否已婚\n        let servantAge = UILabel(frame: CGRectMake(8, NameY+20*2, 200, 20))\n        servantAge.text = \"年龄:\\(workerdetail.servantAge)\"\n        servantAge.textColor = UIColor.blackColor()\n        servantAge.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(servantAge)\n\n        //民族\n        let servantNationality = UILabel(frame: CGRectMake(8, NameY+20*3, 200, 20))\n        servantNationality.text = \"民族:\\(workerdetail.servantNationality)\"\n        servantNationality.textColor = UIColor.blackColor()\n        servantNationality.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(servantNationality)\n\n        //状态\n        // var Status = UILabel(frame: CGRectMake(width-70, NameY+10, 50, 25))\n        let Status = UILabel(frame: CGRectMake(100, NameY+20, 50, 20))\n        Status.text = (workerdetail.servantStatus)\n        if workerdetail.servantStatus == \"服务中\"{\n          \n            Status.textColor = UIColor.redColor()\n            Status.text = \"服务中\"\n            \n        }else if workerdetail.servantStatus == \"空闲\"{\n            \n            Status.textColor = UIColor.greenColor()\n              Status.text = \"空闲\"\n        }\n        \n        Status.textAlignment = NSTextAlignment.Center\n        // Status.layer.cornerRadius = 30  没效果\n        Status.font = UIFont.systemFontOfSize(15)\n        scrollView.addSubview(Status)\n        //是否已婚\n        let isMarried = UILabel(frame: CGRectMake(8, NameY+20*4, 200, 20))\n        if workerdetail.isMarried {\n            isMarried.text = \"是否结婚:已婚\"\n        }else {\n          isMarried.text = \"是否结婚:未婚\"\n        }\n       \n        isMarried.textColor = UIColor.blackColor()\n        isMarried.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(isMarried)\n        //联系电话\n        let phoneNo = UILabel(frame: CGRectMake(8, NameY+20*5, labelW, 20))\n        phoneNo.text = \"联系电话:\\(workerdetail.phoneNo)、\\(workerdetail.servantMobil) \"\n        phoneNo.textColor = UIColor.blackColor()\n        phoneNo.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(phoneNo)\n        //QQ\n        let qqNumber = UILabel(frame: CGRectMake(8, NameY+20*6, labelW, 20))\n        qqNumber.text = \"QQ账号:\\(workerdetail.qqNumber)\"\n        qqNumber.textColor = UIColor.blackColor()\n        qqNumber.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(qqNumber)\n        //邮箱\n        let emailAddress = UILabel(frame: CGRectMake(8, NameY+20*7, labelW, 20))\n        emailAddress.text = \"邮箱:\\(workerdetail.emailAddress)\"\n        emailAddress.textColor = UIColor.blackColor()\n        emailAddress.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(emailAddress)\n        \n        //区域\n        let quyu = UILabel(frame: CGRectMake(8, NameY+20*8, labelW, 20))\n        quyu.text = \"所在区域:\\(workerdetail.servantProvince)省\\(workerdetail.servantCity)市\\(workerdetail.servantCounty)\"\n        quyu.textColor = UIColor.blackColor()\n        quyu.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(quyu)\n        //服务区域\n        let serviceArea = UILabel(frame: CGRectMake(8, NameY+20*9, labelW, 20))\n        serviceArea.text = \"服务区域:\\(workerdetail.serviceArea)\"\n        serviceArea.textColor = UIColor.blackColor()\n        serviceArea.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(serviceArea)\n        //服务区域\n        let serviceCount = UILabel(frame: CGRectMake(8, NameY+20*10, labelW, 20))\n        serviceCount.text = \"服务次数:\\(workerdetail.serviceCount)\"\n        serviceCount.textColor = UIColor.blackColor()\n        serviceCount.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(serviceCount)\n        //从业年限\n        let workYears = UILabel(frame: CGRectMake(8, NameY+20*11, labelW, 20))\n        workYears.text = \"从业年限:\\(workerdetail.workYears)年\"\n        workYears.textColor = UIColor.blackColor()\n        workYears.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(workYears)\n        //教育程度\n        let educationLevel = UILabel(frame: CGRectMake(8, NameY+20*12, labelW, 20))\n        educationLevel.text = \"教育程度:\\(workerdetail.educationLevel)\"\n        educationLevel.textColor = UIColor.blackColor()\n        educationLevel.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(educationLevel)\n        //培训经历\n        //计算文字的高度\n         text = workerdetail.trainingIntro\n         statusLabelText = text\n        let font = UIFont.systemFontOfSize(14)\n        let statusLabelSize1 = statusLabelText.sizeWithAttributes([NSFontAttributeName:font])\n//        println(\"文字的高度:\\(statusLabelSize.height)\")\n//        println(\"文字的宽度:\\(statusLabelSize.width)\")\n        \n        //根据高度设LabelFrame\n        let H1 = statusLabelSize1.height\n        let W1 = statusLabelSize1.width\n        let TH1 = H1*(W1/labelW+1)\n        print(\"高高高:\\(TH1)\")\n        let trainingIntro = UILabel(frame: CGRectMake(8, NameY+20*13, labelW, TH1))\n        trainingIntro.text = \"培训经历:\\(workerdetail.trainingIntro)\"\n        trainingIntro.textColor = UIColor.blackColor()\n        trainingIntro.font = UIFont.systemFontOfSize(14)\n        //保留整个单词\n//        trainingIntro.lineBreakMode = NSLineBreakMode.ByWordWrapping\n        //保留整个字符\n        //trainingIntro.lineBreakMode = NSLineBreakMode.ByCharWrapping\n        //以边界为止\n        trainingIntro.lineBreakMode = NSLineBreakMode.ByClipping\n        trainingIntro.numberOfLines = 0\n        scrollView.addSubview(trainingIntro)\n        let trainingYH = CGFloat(NameY+20*14+TH1)\n        \n        //所获奖项\n        //计算文字的高度\n         text = workerdetail.servantHonors\n         statusLabelText = text\n        let statusLabelSize2 = statusLabelText.sizeWithAttributes([NSFontAttributeName:font])\n        //        println(\"文字的高度:\\(statusLabelSize.height)\")\n        //        println(\"文字的宽度:\\(statusLabelSize.width)\")\n        \n        //根据高度设LabelFrame\n        let H2 = statusLabelSize2.height\n        let W2 = statusLabelSize2.width\n        let TH2 = H2*(W2/labelW+1)\n        let servantHonors = UILabel(frame: CGRectMake(8, trainingYH+4, labelW, TH2))\n        servantHonors.text = \"所获奖项:\\(workerdetail.servantHonors)\"\n        servantHonors.textColor = UIColor.blackColor()\n        servantHonors.font = UIFont.systemFontOfSize(14)\n        servantHonors.lineBreakMode = NSLineBreakMode.ByCharWrapping\n        servantHonors.numberOfLines = 0\n        scrollView.addSubview(servantHonors )\n        \n        let Honors = CGFloat(trainingYH+TH2+4)\n        //工作介绍\n        //计算文字的高度\n        text = workerdetail.servantIntro\n        statusLabelText = text\n        let statusLabelSize3 = statusLabelText.sizeWithAttributes([NSFontAttributeName:font])\n        //        println(\"文字的高度:\\(statusLabelSize.height)\")\n        //        println(\"文字的宽度:\\(statusLabelSize.width)\")\n        \n        //根据高度设LabelFrame\n        let H3 = statusLabelSize3.height\n        let W3 = statusLabelSize3.width\n        let TH3 = H3*(W3/labelW+1)\n\n        let servantIntro = UILabel(frame: CGRectMake(8, Honors+4, labelW, TH3))\n        //level.text = detailItem.facilitatorLevel\n        servantIntro.text = \"工作介绍:\\(workerdetail.servantIntro)\"\n        servantIntro.textColor = UIColor.blackColor()\n//        servantIntro.lineBreakMode = NSLineBreakMode.ByCharWrapping\n        servantIntro.lineBreakMode = NSLineBreakMode.ByWordWrapping\n        servantIntro.numberOfLines = 0\n        servantIntro.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(servantIntro)\n        let servantintroYH = CGFloat(Honors+TH3+8)\n\n        //是否住家\n        let isStayHome = UILabel(frame: CGRectMake(8, servantintroYH, labelW, 20))\n        //level.text = detailItem.facilitatorLevel\n        if workerdetail.isStayHome {\n            isStayHome.text = \"是否住家:住家\"\n        }else {\n            isStayHome.text = \"是否住家:不住家\"\n        }\n        //isStayHome.text = \"是否住家:\\(workerdetail.isStayHome)\"\n        isStayHome.textColor = UIColor.blackColor()\n        isStayHome.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(isStayHome)\n        \n        //每月休息天数\n        let holidayInMonth = UILabel(frame: CGRectMake(8, servantintroYH+20, labelW, 20))\n        //level.text = detailItem.facilitatorLevel\n        holidayInMonth.text = \"每月休息天数:\\(workerdetail.holidayInMonth)天\"\n        holidayInMonth.textColor = UIColor.blackColor()\n        holidayInMonth.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(holidayInMonth)\n        //人员星级\n        let servantScore = UILabel(frame: CGRectMake(8, servantintroYH+40, labelW, 20))\n        servantScore.text = \"人员评分:\\(workerdetail.servantScore)分\"\n        servantScore.textColor = UIColor.blackColor()\n        servantScore.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(servantScore)\n        \n       \n        \n        \n        let  comment = UIButton(frame:CGRectMake( width-158,servantintroYH+40,150,30))\n        comment .setTitle(\"查看客户评价\", forState:UIControlState.Normal)\n        comment.setTitleColor(UIColor.blueColor(), forState: UIControlState.Normal)\n        comment.titleLabel?.font = UIFont.systemFontOfSize(14)\n        comment.contentHorizontalAlignment = UIControlContentHorizontalAlignment.Right\n        comment.showsTouchWhenHighlighted = true\n        comment.backgroundColor = UIColor.whiteColor()\n        scrollView.addSubview(comment)\n        comment.addTarget(self , action:Selector(\"tapped1:\"), forControlEvents: UIControlEvents.TouchUpInside)\n\n       \n        //星级图片\n//        let servantScoreImg = UIImageView(frame: CGRectMake(78, servantintroYH+42, 80, 16))\n//        servantScoreImg.image = imageForRank(workerdetail.servantScore)\n//        scrollView.addSubview(servantScoreImg)\n        //服务次数\n//        var serviceCount = UILabel(frame: CGRectMake(8, servantintroYH+60, labelW, 20))\n//        serviceCount.text = \"服务次数:\\(workerdetail.serviceCount)次\"\n//        serviceCount.textColor = UIColor.blackColor()\n//        serviceCount.font = UIFont.systemFontOfSize(14)\n//        scrollView.addSubview(serviceCount)\n        //职业头衔\n        let careerType = UILabel(frame: CGRectMake(8, servantintroYH+60, labelW, 20))\n        careerType.text = \"职业头衔:\\(workerdetail.careerType)\"\n        careerType.textColor = UIColor.blackColor()\n        careerType.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(careerType)\n        //服务项目\n        //计算文字的高度\n        text = workerdetail.serviceItems\n        statusLabelText = text\n        let statusLabelSize4 = statusLabelText.sizeWithAttributes([NSFontAttributeName:font])\n        //根据高度设LabelFrame\n        let H4 = statusLabelSize4.height\n        let W4 = statusLabelSize4.width\n        let TH4 = H4*(W4/labelW+1)\n        let serviceItems = UILabel(frame: CGRectMake(8, servantintroYH+80, labelW, TH4))\n        serviceItems.text = \"服务项目:\\(workerdetail.serviceItems)\"\n        serviceItems.textColor = UIColor.blackColor()\n        serviceItems.lineBreakMode = NSLineBreakMode.ByWordWrapping\n        serviceItems.numberOfLines = 0\n        serviceItems.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(serviceItems)\n        \n        let clientClick = UILabel(frame: CGRectMake(8, servantintroYH+90+TH4, labelW, 20))\n        clientClick.text = \"浏览数量:\\(workerdetail.clientClick)\"\n        clientClick.textColor = UIColor.blackColor()\n        clientClick.lineBreakMode = NSLineBreakMode.ByWordWrapping\n        clientClick.numberOfLines = 0\n        clientClick.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(clientClick)\n        \n//        //交流按钮\n          let CBY = servantintroYH+150+TH4\n//        comunication = UIButton(frame:CGRectMake(30, CBY,100,30))\n//        comunication! .setTitle(\"在线交流\", forState:UIControlState.Normal)\n//        comunication!.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n//        comunication!.titleLabel?.font = UIFont.systemFontOfSize(15)\n//        //title的位置\n//        comunication!.contentHorizontalAlignment = UIControlContentHorizontalAlignment.Center\n//        //点击是否亮\n//        comunication!.showsTouchWhenHighlighted = true\n//        //圆角\n//        comunication?.layer.cornerRadius = 5\n//        comunication!.backgroundColor = UIColor.orangeColor()\n//        scrollView.addSubview(comunication!)\n//        comunication!.addTarget(self , action:Selector(\"comunication\"), forControlEvents: UIControlEvents.TouchUpInside)\n        //预定按钮\n        yuyue = UIButton(frame:CGRectMake(width/2-125, CBY,250,30))\n        yuyue! .setTitle(\"立即预定\", forState:UIControlState.Normal)\n        yuyue!.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n        yuyue!.titleLabel?.font = UIFont.systemFontOfSize(15)\n        yuyue!.contentHorizontalAlignment = UIControlContentHorizontalAlignment.Center\n        yuyue!.showsTouchWhenHighlighted = true\n        yuyue?.layer.cornerRadius = 5\n        yuyue!.backgroundColor = UIColor.orangeColor()\n        if workerdetail.servantStatus == \"1\"{\n            yuyue.hidden = true\n            yuyue.enabled = false\n        }else{\n            yuyue.enabled = true\n            yuyue.hidden = false\n        }\n\n        scrollView.addSubview(yuyue!)\n        yuyue!.addTarget(self , action:Selector(\"yuding:\"), forControlEvents: UIControlEvents.TouchUpInside)\n        scrollView.contentSize = CGSizeMake(width,CBY+120)\n        print(scrollView.bounds.height)\n    }\n    \n    \n    override func viewDidLayoutSubviews() {\n//        scrollView.frame = CGRectMake(0, 64, self.view.frame.width, self.view.frame.height)\n    }\n    // 星级图片\n    func imageForRank(rank:String) -> UIImage? {\n        switch rank {\n        case \"1\":\n            return UIImage(named: \"1\")\n        case \"2\":\n            return UIImage(named: \"2\")\n        case \"3\":\n            return UIImage(named: \"3\")\n        case \"4\":\n            return UIImage(named: \"4\")\n        case \"5\":\n            return UIImage(named: \"5\")\n        default:\n            return nil\n        }\n    }\n    \n\n//在线交流的跳转函数\n    func  tapped1(comment:UIButton){\n        \n        self.performSegueWithIdentifier(\"toComment\", sender: self)\n    }\n    \n    \n    //收藏的函数传数据函数\n    func collect(collect:UIButton){\n        \n        \n        //读取用户信息，如果不是第一次登录，则会自动登录\n        readNSUerDefaults()\n        \n        if customerid == \"\" ||  loginPassword == \"\" {\n//            let alert =  UIAlertView(title: \"\", message: \"登录后才能收藏哦!\", delegate: self, cancelButtonTitle: \"确定\")\n//            alert.show()\n            \n            let sb = UIStoryboard(name: \"Main\", bundle: nil)\n            let vc = sb.instantiateViewControllerWithIdentifier(\"LoginVC\") \n            self.presentViewController(vc, animated: true, completion: nil)\n\n            \n        }else {\n            \n        isCollect = GetServantCollect(workerdetail.servantID, customerID: customerid) as String\n        if isCollect == \"no\"{\n            print(\"nonono\\(workerdetail.servantName)\")\n        var response = addSCollection(customerid, servantid: workerdetail.servantID, servantname: workerdetail.servantName)\n            \n            if response == \"Success\"{\n                let alert =  UIAlertView(title: \"收藏成功\", message: \"\", delegate: self, cancelButtonTitle: \"确定\")\n                alert.show()\n                collect.setTitle(\"取消收藏\", forState: UIControlState.Normal)\n                isCollect  = \"yes\"\n            } else if response == \"Failed\"{\n                \n                let alert =  UIAlertView(title: \"收藏失败\", message: \"请重试\", delegate: self, cancelButtonTitle: \"确定\")\n                alert.show()\n            }\n        }else if isCollect == \"yes\"{\n            \n            var response = deleteSCollection(customerid,servantID: workerdetail.servantID)\n            if response == \"Success\"{\n                let alert =  UIAlertView(title: \"取消成功\", message: \"\", delegate: self, cancelButtonTitle: \"确定\")\n                alert.show()\n                collect.setTitle(\"收藏\", forState: UIControlState.Normal)\n                isCollect  = \"no\"\n                \n            } else if response == \"Failed\"{\n                \n                let alert =  UIAlertView(title: \"取消失败\", message: \"请重试\", delegate: self, cancelButtonTitle: \"确定\")\n                alert.show()\n            }\n\n           }\n         }\n    }\n//    //立即预订的跳转函数\n    func yuding(yuyue:UIButton){\n        \n        //读取用户信息，如果不是第一次登录，则会自动登录\n        readNSUerDefaults()\n        if customerid != \"\" && loginPassword != \"\"{\n            self.performSegueWithIdentifier(\"toOrder\", sender: self)\n        }else {\n//            let alert =  UIAlertView(title: \"\", message: \"登录后才能预定哦!\", delegate: self, cancelButtonTitle: \"确定\")\n//            alert.show()\n            let sb = UIStoryboard(name: \"Main\", bundle: nil)\n            let vc = sb.instantiateViewControllerWithIdentifier(\"LoginVC\") \n            self.presentViewController(vc, animated: true, completion: nil)\n        }\n\n    }\n    \n    //导航条详情\n    func reply (){\n        self.dismissViewControllerAnimated(true, completion: nil)\n    }\n    \n    func onMakeNavitem() -> UINavigationItem{\n        print(\"创建导航条servant\")\n        //创建一个导航项\n        let navigationItem = UINavigationItem()\n        //创建左边按钮\n        let leftButton =  UIBarButtonItem(barButtonSystemItem: UIBarButtonSystemItem.Reply, target: self, action: \"reply\")\n        //var leftButton =  UIBarButtonItem(title: \"返回\", style: UIBarButtonItemStyle.Bordered, target: self, action: \"reply\")\n        //导航栏的标题\n        navigationItem.title = \"人员详情\"\n        //设置导航栏左边按钮\n        navigationItem.setLeftBarButtonItem(leftButton, animated: true)\n        \n        navigationBar?.pushNavigationItem(navigationItem, animated: true)\n        \n        \n        return navigationItem\n    }\n//    //预定的传参函数\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        print(\"去预定啦\")\n        if segue.identifier! == \"toOrder\" {\n            let controller = segue.destinationViewController as! OrderDetailVC\n            let  object = workerdetail\n            controller.ServantDetail = object\n            \n        }else if segue.identifier! == \"toComment\"{\n            \n            let controller = segue.destinationViewController as! CommentVC\n            let  object = workerdetail.servantID\n            controller.servantID = object\n        }\n     \n    }\n    \n    //从NSUerDefaults 中读取数据\n    func readNSUerDefaults () {\n        \n        let userDefaultes = NSUserDefaults.standardUserDefaults()\n        if  (userDefaultes.stringForKey(\"customerID\")) != nil && (userDefaultes.stringForKey(\"loginPassword\")) != nil{\n            customerid = userDefaultes.stringForKey(\"customerID\")!\n            loginPassword = userDefaultes.stringForKey(\"loginPassword\")!\n            \n        }\n        \n    }\n    \n    override func  viewWillAppear(animated: Bool) {\n         readNSUerDefaults()\n        \n        if customerid != \"\" && loginPassword != \"\" {\n            isCollect = GetServantCollect(workerdetail.servantID, customerID: customerid) as String\n            \n            print(\"isCollect:\\(isCollect)\")\n        }\n        \n         print( \"调用了吗\")\n        if isCollect == \"yes\" {\n            collect.setTitle(\"取消收藏\", forState: UIControlState.Normal)\n        }else {\n            collect.setTitle(\"收藏\", forState: UIControlState.Normal)\n        }\n        print",
 }
]
