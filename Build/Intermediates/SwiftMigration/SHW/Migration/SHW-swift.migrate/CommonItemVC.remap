[
 {
  "file": "/Users/zhang/Desktop/HouseKeeping 2/SHW/CommonItemVC.swift",
  "offset": 1253,
  "remove": 7609,
  "text": "(\"CommonItem.serviceTyp\")\n        print(\"\\(CommonItem.serviceType)\")\n\n        //serviceTypeData = getServiceType(CommonItem.serviceType) as ServiceType\n        \n         print(\"\\(CommonItem.serviceType)\")\n        let width = self.view.frame.width\n        let height = self.view.frame.height\n        let labelW = self.view.frame.width - 20\n        \n        //实例化导航条\n        navigationBar = UINavigationBar(frame: CGRectMake(0, 0, width, 64))\n        self.view.addSubview(navigationBar!)\n        print(\"创建导航条详情commontitemVC\")\n        onMakeNavitem()\n\n        //添加scrollview\n        let scrollView = UIScrollView()\n        //scrollView.bounds = self.view.bounds\n        scrollView.frame = CGRectMake(0, 64,width,height)\n        scrollView.contentSize=CGSizeMake(width,height*5)\n        //scrollView.contentInset = UIEdgeInsetsMake(-64,0,0, 0)\n        //不可翻页\n        scrollView.pagingEnabled = false\n        //不显示横向滑竿\n        scrollView.showsHorizontalScrollIndicator = false\n        //不显示纵向滑竿\n        scrollView.showsVerticalScrollIndicator = false\n        //设置不可下拉\n        scrollView.bounces = false\n        scrollView.scrollsToTop = false\n        self.view.addSubview(scrollView)\n        \n      //  服务图片\n        let introimgY = CGFloat(20)\n        let servicePicture = UIImageView(frame: CGRectMake(20, introimgY,width - 40, 200))\n        //println(\"宽度\\(self.view.frame.width)\")\n        //网络地址获取图片\n        //1.定义一个地址字符串常量\n//      \n        let imageUrlString:String = HttpData.http+\"/FamilyServiceSystem/upload/service-type/\\(serviceTypeData!.id)/\\(serviceTypeData!.typeLogo)\"\n//             let imageUrlString:String = HttpData.http+\"/FamilyServiceSystem/upload/service/id/\\(serviceTypeData!.typeLogo)\"\n        let url :NSURL = NSURL(string: imageUrlString)!\n        print(\"url:\\(url)\")\n        \n//       \n//        var data = getImageData(imageUrlString)\n//        \n//        if data == nil{\n//            servicePicture.image = UIImage(named:\"127.jpg\")\n//            \n//        }else{\n//            servicePicture.image = UIImage(data: data!)\n//        }\n        \n        servicePicture.setZYHWebImage(imageUrlString, defaultImage: \"127.jpg\")\n        scrollView.addSubview(servicePicture)\n        \n        //服务项目\n        let itemNameY = introimgY + 180\n//        itemName = UILabel(frame: CGRectMake(8, itemNameY, 300, 20))\n//        itemName!.text = \"服务项目:\\(CommonItem!.serviceType)\"\n//        itemName!.textColor = UIColor.orangeColor()\n//        itemName!.font = UIFont.systemFontOfSize(15)\n//        scrollView.addSubview(itemName!)\n        \n        //服务类别\n        serviceType = UILabel(frame: CGRectMake(8, itemNameY+20, labelW, 20))\n        serviceType!.text = \"服务类别:\\(CommonItem.serviceType)\"\n        serviceType!.textColor = UIColor.blackColor()\n        serviceType!.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(serviceType!)\n       \n        //项目介绍\n        //计算文字的高度\n        //text = CommonItemInfo.itemIntro\n        statusLabelText = CommonItem!.itemIntro\n        let font = UIFont.systemFontOfSize(14)\n        let statusLabelSize1 = statusLabelText.sizeWithAttributes([NSFontAttributeName:font])\n        \n        //根据高度设LabelFrame\n        let H1 = statusLabelSize1.height\n        let W1 = statusLabelSize1.width\n        let TH1 = H1*(W1/labelW+1)\n        print(\"高高高:\\(TH1)\")\n        itemIntro = UILabel(frame: CGRectMake(8, itemNameY+40, labelW, TH1))\n        itemIntro!.text = \"项目介绍:\\(CommonItem!.itemIntro)\"\n        itemIntro!.textColor = UIColor.blackColor()\n        itemIntro!.font = UIFont.systemFontOfSize(14)\n        //保留整个单词\n        itemIntro!.lineBreakMode = NSLineBreakMode.ByWordWrapping\n        itemIntro!.numberOfLines = 0\n        scrollView.addSubview(itemIntro!)\n        let trainingYH = CGFloat(itemNameY+40+TH1)\n        //价格\n        priceDescription = UILabel(frame: CGRectMake(8, trainingYH+4, labelW, 20))\n        priceDescription!.text = \"价格:面议\"\n        priceDescription!.textColor = UIColor.blackColor()\n        priceDescription!.font = UIFont.systemFontOfSize(14)\n        scrollView.addSubview(priceDescription!)\n        //预定按钮\n        let CBY = trainingYH+44\n        yuyue = UIButton(frame:CGRectMake(width/2-50, CBY,100,30))\n        yuyue! .setTitle(\"立即预定\", forState:UIControlState.Normal)\n        yuyue!.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n        yuyue!.titleLabel?.font = UIFont.systemFontOfSize(15)\n        yuyue!.contentHorizontalAlignment = UIControlContentHorizontalAlignment.Center\n        yuyue!.showsTouchWhenHighlighted = true\n        yuyue?.layer.cornerRadius = 5\n        yuyue!.backgroundColor = UIColor.orangeColor()\n        scrollView.addSubview(yuyue!)\n        yuyue!.addTarget(self , action:Selector(\"yuding:\"), forControlEvents: UIControlEvents.TouchUpInside)\n    \n        \n        scrollView.contentSize = CGSizeMake(width,CBY+120)\n        print(scrollView.bounds.height)\n        \n\n    }\n    //预定的跳转函数\n    func yuding(yuyue:UIButton){\n        \n        \n        //读取用户信息，如果不是第一次登录，则会自动登录\n        readNSUerDefaults()\n        \n        if customerid != \"\" && loginPassword != \"\"{\n            self.performSegueWithIdentifier(\"toOrderC\", sender: self)\n        }else {\n//            let alert =  UIAlertView(title: \"\", message: \"登录后才能预定哦!\", delegate: self, cancelButtonTitle: \"确定\")\n//            alert.show()\n            let sb = UIStoryboard(name: \"Main\", bundle: nil)\n            let vc = sb.instantiateViewControllerWithIdentifier(\"LoginVC\") \n            self.presentViewController(vc, animated: true, completion: nil)\n        }\n \n    }\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n        // Dispose of any resources that can be recreated.\n    }\n \n    //导航条详情\n    func reply (){\n        self.dismissViewControllerAnimated(true, completion: nil)\n    }\n    \n    func onMakeNavitem() -> UINavigationItem{\n        print(\"创建导航条step1\")\n        //创建一个导航项\n        let navigationItem = UINavigationItem()\n        //创建左边按钮\n        let leftButton =  UIBarButtonItem(barButtonSystemItem: UIBarButtonSystemItem.Reply, target: self, action: \"reply\")\n        //var leftButton =  UIBarButtonItem(title: \"返回\", style: UIBarButtonItemStyle.Bordered, target: self, action: \"reply\")\n        //导航栏的标题\n        navigationItem.title = \"项目详情\"\n        //设置导航栏左边按钮\n        navigationItem.setLeftBarButtonItem(leftButton, animated: true)\n        \n        navigationBar?.pushNavigationItem(navigationItem, animated: true)\n        \n        \n        return navigationItem\n    }\n    //从NSUerDefaults 中读取数据\n    func readNSUerDefaults () {\n        \n        let userDefaultes = NSUserDefaults.standardUserDefaults()\n        if  (userDefaultes.stringForKey(\"customerID\")) != nil && (userDefaultes.stringForKey(\"loginPassword\")) != nil{\n            customerid = userDefaultes.stringForKey(\"customerID\")!\n            loginPassword = userDefaultes.stringForKey(\"loginPassword\")!\n            \n        }\n        \n    }\n    \n\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        if segue.identifier! == \"toOrderC\" {\n            let controller = segue.destinationViewController as! CommonOrder\n            let",
 }
]
