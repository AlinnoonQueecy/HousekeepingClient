[
 {
  "file": "/Users/zhang/Desktop/HouseKeeping 2/SHW/FinishViewController.swift",
  "offset": 656,
  "remove": 18558,
  "text": "(\"qqqqqqqqqqqqqqqqqqqq\")\n        let width = self.view.frame.width-16\n         print(\"宽度:\\(width)\")\n        \n        //实例化导航条\n        navigationBar = UINavigationBar(frame: CGRectMake(0, 0, self.view.frame.width, 64))\n        self.view.addSubview(navigationBar!)\n        print(\"创建导航条详情\")\n        onMakeNavitem()\n        \n            //detailItem = getOrderData(detailData.id)\n           OrderData =  getOrderData(detailData.orderNo)\n            //var scrollView = UIScrollView()\n            scrollView.bounds = self.view.bounds\n            scrollView.frame = CGRectMake(0, 64, self.view.frame.width, self.view.frame.height)\n            \n            scrollView.contentSize=CGSizeMake(self.view.frame.width,self.view.frame.height*5)\n//            scrollView.contentInset = UIEdgeInsetsMake(-64,0,0, 0)\n            scrollView.pagingEnabled = false\n            scrollView.showsHorizontalScrollIndicator = false\n            scrollView.showsVerticalScrollIndicator = false\n            //设置不可下拉\n            scrollView.bounces = false\n            scrollView.scrollsToTop = false\n            //self.view.addSubview(scrollView)\n            //Label设置\n            print(\"wwwwwwwwwwww\")\n            let  detail:Finishinfo = self.OrderData!\n            let orderNo = UILabel(frame: CGRectMake(8, 5, width, 20))\n            orderNo.text = \"订单编号:\\(detail.orderNo)\"\n            orderNo.textColor = UIColor.blackColor()\n            orderNo.font = UIFont.systemFontOfSize(15)\n            //orderNo.backgroundColor = UIColor.redColor()\n            scrollView.addSubview(orderNo)\n        \n        \n            let orderStatus = UILabel(frame: CGRectMake(8, 20+5, width, 20))\n            orderStatus.text = \"订单状态:\\(detail.orderStatus)\"\n            orderStatus.textColor = UIColor.orangeColor()\n            orderStatus.font = UIFont.systemFontOfSize(15)\n            scrollView.addSubview(orderStatus)\n        \n            let button8C = UIColor(red: 204/255, green: 204/255, blue: 204/255, alpha: 1.0)\n            let lable1 = UILabel(frame: CGRectMake(0, 45,width+16, 7))\n            lable1.backgroundColor = button8C\n            scrollView.addSubview(lable1)\n                \n            let customerID = UILabel(frame: CGRectMake(8,20*2+15 , width, 20))\n            customerID.text = \"客户账号:\\(detail.customerID)\"\n            customerID.textColor = UIColor.blackColor()\n            customerID.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(customerID)\n            \n//            let levelImg = UIImageView(frame: CGRectMake(75, 41, 80, 16))\n//            levelImg.image = imageForRank(Detail1.levelImg)\n//            scrollView.addSubview(levelImg)\n            \n            let customerName = UILabel(frame: CGRectMake(8, 20*3+15, width, 20))\n            customerName.text = \"客户姓名:\\(detail.customerName)\"\n            customerName.textColor = UIColor.blackColor()\n            customerName.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(customerName)\n            \n//            let scoreImg = UIImageView(frame: CGRectMake(75, 60, 80, 16))\n//            scoreImg.image = imageForRank(Detail2.scoreImg)\n//            scrollView.addSubview(scoreImg)\n            \n        \n//            var facilitatorID = UILabel(frame: CGRectMake(8, 95, width , 20))\n//            facilitatorID.text = \"商家账号:\\(detail.facilitatorID)\"\n//            facilitatorID.textColor = UIColor.blackColor()\n//            facilitatorID.font = UIFont.systemFontOfSize(14)\n//            scrollView.addSubview(facilitatorID )\n//\n//            var facilitatorName = UILabel(frame: CGRectMake(8, 115, width, 20))\n//            facilitatorName.text = \"商家名称:\\(detail.facilitatorName)\"\n//            facilitatorName.textColor = UIColor.blackColor()\n//            facilitatorName.font = UIFont.systemFontOfSize(14)\n//            scrollView.addSubview(facilitatorName )\n        \n            let servantName = UILabel(frame: CGRectMake(8, 20*4+15, width, 20))\n            servantName.text = \"服务人员:\\(detail.servantName)\"\n            servantName.textColor = UIColor.blackColor()\n            servantName.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(servantName)\n\n            let servantID = UILabel(frame: CGRectMake(8, 20*5+15, width, 20))\n            servantID.text = \"人员工号:\\(detail.servantID)\"\n            servantID.textColor = UIColor.blackColor()\n            servantID.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(servantID)\n        \n             let lable2 = UILabel(frame: CGRectMake(0, 20*6+15,width+16, 7))\n             lable2.backgroundColor = button8C\n             scrollView.addSubview(lable2)\n\n            let serviceType = UILabel(frame: CGRectMake(8, 20*6+25, width, 20))\n            serviceType.text = \"服务类型:\\(detail.serviceType)\"\n            serviceType.textColor = UIColor.blackColor()\n            serviceType.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(serviceType)\n\n            let serviceContent = UILabel(frame: CGRectMake(8, 20*7+25, width, 40))\n            serviceContent.text = \"服务内容:\\(detail.serviceContent)\"\n            serviceContent.numberOfLines = 0\n////            serviceContent.lineBreakMode = .ByTruncatingMiddle//折行方式\n//            serviceContent.adjustsFontSizeToFitWidth = true //字体适应label大小\n//            serviceContent.baselineAdjustment = UIBaselineAdjustment.AlignCenters\\\\文本基线位置\n            serviceContent.baselineAdjustment = .None\n            serviceContent.textColor = UIColor.blackColor()\n            serviceContent.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(serviceContent)\n\n        let contactPhone = UILabel(frame: CGRectMake(8, 20*9+25, width, 20))\n        contactPhone.text = \"联系电话:\\(detail.contactPhone)\"\n        contactPhone.textColor = UIColor.blackColor()\n        contactPhone.font = UIFont.systemFontOfSize(14)\n        contactPhone.numberOfLines = 0\n        contactPhone.baselineAdjustment = .AlignBaselines\n        scrollView.addSubview(contactPhone)\n        let contactAddress = UILabel(frame: CGRectMake(8, 20*10+25, width, 40))\n        contactAddress.text = \"联系地址:\\(detail.contactAddress)\"\n        contactAddress.textColor = UIColor.blackColor()\n        contactAddress.font = UIFont.systemFontOfSize(14)\n        contactAddress.numberOfLines = 0\n        contactAddress.baselineAdjustment = .AlignBaselines\n        scrollView.addSubview(contactAddress)\n   \n\n           let lable3 = UILabel(frame: CGRectMake(0, 20*12+25,width+16, 7))\n           lable3.backgroundColor = button8C\n           //lable3.backgroundColor = UIColor.whiteColor()\n           scrollView.addSubview(lable3)\n        \n            let orderTime = UILabel(frame: CGRectMake(8,20*12+35, width, 20))\n            orderTime.text = \"订单时间:\\(detail.orderTime)\"\n            orderTime.textColor = UIColor.blackColor()\n            orderTime.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(orderTime)\n            \n            let confirmTime = UILabel(frame: CGRectMake(8, 20*13+35, width, 20))\n            confirmTime.text = \"确认时间:\\(detail.confirmTime)\"\n            confirmTime.textColor = UIColor.blackColor()\n            confirmTime.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(confirmTime)\n       \n        \n            let commentTime = UILabel(frame: CGRectMake(8, 20*14+35, width, 20))\n            commentTime.text = \"评价时间:\\(detail.commentTime)\"\n            commentTime.textColor = UIColor.blackColor()\n            commentTime.font = UIFont.systemFontOfSize(14)\n            scrollView.addSubview(commentTime)\n        \n        let H = CGFloat(20*15+35)\n        let lable4 = UILabel(frame: CGRectMake(0, H,width+16, 7))\n        lable4.backgroundColor = button8C\n        scrollView.addSubview(lable4)\n        \n        \n            let payTime = UILabel(frame:CGRectMake(8, H+10 ,width,20))\n              payTime.text = \"付款时间:\\(detail.payTime)\"\n              payTime.textColor = UIColor.blackColor()\n              payTime.font = UIFont.systemFontOfSize(14)\n        //            startTime.numberOfLines = 0\n              scrollView.addSubview(payTime)\n\n            let servicePrice = UILabel(frame: CGRectMake(8, H+30, width, 20))\n            servicePrice.text = \"服务费用:\\(detail.servicePrice)元\"\n            servicePrice.textColor = UIColor.orangeColor()\n            servicePrice.font = UIFont.systemFontOfSize(15)\n            scrollView.addSubview(servicePrice)\n\n            let paidAmount = UILabel(frame: CGRectMake(8, H+50, width, 20))\n            paidAmount.text = \"已付金额:\\(detail.paidAmount)元\"\n            paidAmount.textColor = UIColor.orangeColor()\n            paidAmount.font = UIFont.systemFontOfSize(15)\n            scrollView.addSubview(paidAmount)\n        \n        let payType = UILabel(frame: CGRectMake(8, H+70, width, 40))\n        payType.text = \"付款类型:\\(detail.payType)\"\n        payType.textColor = UIColor.blackColor()\n        payType.font = UIFont.systemFontOfSize(14)\n        payType.numberOfLines = 0\n        payType.baselineAdjustment = .AlignBaselines\n        scrollView.addSubview(payType)\n\n        \n        let lable5 = UILabel(frame: CGRectMake(0, H+70,width+16, 7))\n        lable5.backgroundColor = button8C\n        scrollView.addSubview(lable5)\n\n        \n\n            let remarks = UILabel(frame: CGRectMake(8, H+100, width, 60))\n            remarks.text = \"备注:\\(detail.remarks)\"\n            remarks.textColor = UIColor.blackColor()\n            remarks.font = UIFont.systemFontOfSize(14)\n            remarks.numberOfLines = 0\n            scrollView.addSubview(remarks)\n        \n        \n        let payButton = UIButton(frame: CGRectMake((self.view.frame.width-250)/2, 530, 250, 30))\n        payButton.setTitle(\"立即支付\", forState: UIControlState.Normal)\n        payButton.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n        payButton.backgroundColor = UIColor.orangeColor()\n        payButton.layer.cornerRadius = 5\n        payButton.showsTouchWhenHighlighted = true\n        if detail.orderStatus == \"待付款\"{\n            payButton.hidden = false\n            payButton.enabled = true\n        }else {\n            payButton.enabled = false\n            payButton.hidden = true\n        }\n        payButton.addTarget(self, action: \"Pay:\", forControlEvents: UIControlEvents.TouchUpInside)\n        scrollView.addSubview(payButton)\n\n       var w = self.view.frame.width/2\n        EvaluationButton = UIButton(frame: CGRectMake((self.view.frame.width-250)/2, 530, 250, 30))\n        EvaluationButton.setTitle(\"评价订单\", forState: UIControlState.Normal)\n        EvaluationButton.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n        EvaluationButton.backgroundColor = UIColor.orangeColor()\n        EvaluationButton.layer.cornerRadius = 5\n        EvaluationButton.showsTouchWhenHighlighted = true\n//        var refundButton = UIButton(frame: CGRectMake((3*w-110)/2, 530, 110, 30))\n        var refundButton = UIButton()\n        \n       \n        \n        if detail.orderStatus == \"服务完成\" && OrderData.commentTime == \"\"{\n            \n     \n                EvaluationButton.hidden = false\n                EvaluationButton.enabled = true\n            \n          \n \n        }else {\n             EvaluationButton.hidden = true\n             EvaluationButton.enabled = false\n \n        }\n        EvaluationButton.addTarget(self, action: \"Evaluation:\", forControlEvents: UIControlEvents.TouchUpInside)\n        scrollView.addSubview(EvaluationButton)\n        \n        \n        Complete = UIButton(frame: CGRectMake((self.view.frame.width-250)/2, 530, 250, 30))\n        Complete.setTitle(\"确认完成\", forState: UIControlState.Normal)\n        Complete.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n        Complete.backgroundColor = UIColor.orangeColor()\n        Complete.layer.cornerRadius = 5\n        Complete.showsTouchWhenHighlighted = true\n        if detail.orderStatus == \"服务中\"{\n            Complete.hidden = false\n            Complete.enabled = true\n        }else {\n            Complete.enabled = false\n            Complete.hidden = true\n        }\n        Complete.addTarget(self, action: \"Complete:\", forControlEvents: UIControlEvents.TouchUpInside)\n        scrollView.addSubview(Complete)\n\n//        refundButton.setTitle(\"申请退款\", forState: UIControlState.Normal)\n//        refundButton.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n//        refundButton.backgroundColor = UIColor.orangeColor()\n//        refundButton.layer.cornerRadius = 5\n//        refundButton.showsTouchWhenHighlighted = true\n        \n        \n//        var alterRefund = UIButton(frame: CGRectMake((self.view.frame.width-250)/2, 530, 250, 30))\n//        alterRefund.setTitle(\"修改退款\", forState: UIControlState.Normal)\n//        alterRefund.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n//        alterRefund.backgroundColor = UIColor.orangeColor()\n//        alterRefund.layer.cornerRadius = 5\n//        alterRefund.showsTouchWhenHighlighted = true\n        \n//        if  detail.orderStatus == \"申请退款\"{\n//            alterRefund.hidden = false\n//            alterRefund.enabled = true\n//          }else {\n//            alterRefund.hidden = true\n//            alterRefund.enabled = false\n//           }\n//        var CheckRefund = UIButton(frame: CGRectMake((self.view.frame.width-250)/2, 530, 250, 30))\n//        CheckRefund.setTitle(\"查看退款详情\", forState: UIControlState.Normal)\n//        CheckRefund.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Normal)\n//        CheckRefund.backgroundColor = UIColor.orangeColor()\n//        CheckRefund.layer.cornerRadius = 5\n//        CheckRefund.showsTouchWhenHighlighted = true\n//        \n//        \n//        if  detail.orderStatus == \"退款中\" || detail.orderStatus == \"已退款\"{\n//            CheckRefund.hidden = false\n//            CheckRefund.enabled = true\n//        }else {\n//            CheckRefund.hidden = true\n//            CheckRefund.enabled = false\n//        }\n//\n//        \n        \n        \n        \n//        refundButton.addTarget(self, action: \"refund:\", forControlEvents: UIControlEvents.TouchUpInside)\n//        alterRefund.addTarget(self, action: \"ralterRefund:\", forControlEvents: UIControlEvents.TouchUpInside)\n//        CheckRefund.addTarget(self, action: \"CheckRefund:\", forControlEvents: UIControlEvents.TouchUpInside)\n\n       // scrollView.addSubview(refundButton)\n//        scrollView.addSubview(alterRefund)\n//\n//         scrollView.addSubview(CheckRefund)\n    \n         scrollView.contentSize=CGSizeMake(self.view.frame.width,570+64)\n        \n\n        \n    }\n    //支付函数\n    func Pay(payButton:UIButton){\n        self.performSegueWithIdentifier(\"toPay\", sender: self)\n    }\n\n    //评价函数\n    func Evaluation(EvaluationButton:UIButton){\n        self.performSegueWithIdentifier(\"toEvaluate\", sender: self)\n    }\n    //确认完成的函数\n    func Complete(Complete:UIButton){\n        let response = vetifyFinish(OrderData.orderNo)\n        if response == \"Success\"{\n          \n            let alert =  UIAlertView(title: \"\", message: \"确认成功\", delegate: self, cancelButtonTitle: \"确定\")\n \n            alert.tag = 1\n            alert.show()\n            \n        }else {\n            let alert =  UIAlertView(title: \"\", message: \"确认失败，请重试!\", delegate: self, cancelButtonTitle: \"确定\")\n          \n            alert.show()\n        }\n        \n    }\n\n//    //退款函数\n//    func refund(refundButton:UIButton){\n//        self.performSegueWithIdentifier(\"toRefund\", sender: self)\n//    }\n//    //修改退款\n//    func ralterRefund(alterRefund:UIButton){\n//        self.performSegueWithIdentifier(\"alterRefund\", sender: self)\n//    }\n//  //查看退款详情\n//    func CheckRefund(alterRefund:UIButton){\n//        self.performSegueWithIdentifier(\"toDetail\", sender: self)\n//    }\n    \n    \n    \n    override func viewDidLayoutSubviews() {\n        scrollView.frame = CGRectMake(0, 64, self.view.frame.width, self.view.frame.height)\n        }\n    \n    //导航条详情\n    func reply (){\n        self.dismissViewControllerAnimated(true, completion: nil)\n    }\n    \n    \n    func  alertView(alertView: UIAlertView, clickedButtonAtIndex buttonIndex: Int) {\n        if (alertView.tag == 1) {\n            print(\"成功\")\n            Complete.hidden = true\n            Complete.enabled = false\n            //        let sb = UIStoryboard(name: \"Main\", bundle: nil)\n            //        let vc = sb.instantiateViewControllerWithIdentifier(\"finish\") as! UIViewController\n            //        self.presentViewController(vc, animated: true, completion: nil)\n        }\n        //        else{\n        //            println(\"失败\")\n        ////        self.performSegueWithIdentifier(\"back\", sender: self)\n        //        self.dismissViewControllerAnimated(true, completion: nil)\n        //        }\n    }\n\n    func onMakeNavitem() -> UINavigationItem{\n        print(\"创建导航条step1\")\n        //创建一个导航项\n        let navigationItem = UINavigationItem()\n        //创建左边按钮\n        let leftButton =  UIBarButtonItem(barButtonSystemItem: UIBarButtonSystemItem.Reply, target: self, action: \"reply\")\n        //var leftButton =  UIBarButtonItem(title: \"返回\", style: UIBarButtonItemStyle.Bordered, target: self, action: \"reply\")\n        //导航栏的标题\n        navigationItem.title = \"订单详情\"\n        //设置导航栏左边按钮\n        navigationItem.setLeftBarButtonItem(leftButton, animated: true)\n        \n        navigationBar?.pushNavigationItem(navigationItem, animated: true)\n        \n        \n        return navigationItem\n    }\n    \n    \n        \n        override func didReceiveMemoryWarning() {\n            super.didReceiveMemoryWarning()\n            // Dispose of any resources that can be recreated.\n        }\n\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {\n        \n        if segue.identifier! == \"toPay\" {\n            let controller = segue.destinationViewController as! PayVC\n            let  object = detailData\n            controller.PayData = object\n            \n        }else if segue.identifier! == \"toEvaluate\" {\n            let controller = segue.destinationViewController as! EvaluateVC\n            let",
 }
]
